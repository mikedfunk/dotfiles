<?xml version="1.0"?>
<!-- vim:set sw=2 ts=2 et: -->
<ruleset name="Mike's Palette Coding Standard">
  <description>Mike's more strict, experimental version of the Saatchi Art Coding Standard (phpcs v3.5.2 as of 11-25-2019)</description>
  <arg name="colors" />

  <ini name="memory_limit" value="1024M"/>

  <exclude-pattern>vendor/*</exclude-pattern>
  <!-- <exclude-pattern>tests/*</exclude-pattern> -->
  <!-- <exclude-pattern>spec/*</exclude-pattern> -->
  <exclude-pattern>coverage/*</exclude-pattern>
  <exclude-pattern>resources/views*</exclude-pattern>
  <exclude-pattern>bootstrap/cache</exclude-pattern>
  <exclude-pattern>composer.phar</exclude-pattern>
  <exclude-pattern>tags</exclude-pattern>
  <exclude-pattern>_ide_helper.php</exclude-pattern>
  <exclude-pattern>storage/*</exclude-pattern>
  <!-- <exclude-pattern>app/Console/Commands/OneTimers/*</exclude-pattern> -->

  <!-- Generic (28 sniffs) -->
  <rule ref="Generic.Formatting.SpaceAfterNot">
    <properties>
      <property name="spacing" value="0" />
    </properties>
  </rule>
  <rule ref="Generic.Strings.UnnecessaryStringConcat">
    <properties>
      <property name="allowMultiline" value="true" />
    </properties>
  </rule>
  <rule ref="Generic.Files.LineLength">
    <properties>
      <property name="lineLimit" value="160" />
      <property name="absolutelineLimit" value="0" />
    </properties>
  </rule>
  <rule ref="Generic">
    <exclude name="Generic.Functions.OpeningFunctionBraceBsdAllman" />
    <exclude name="Generic.PHP.ClosingPHPTag" />
    <exclude name="Generic.Files.LowercasedFilename" />
    <exclude name="Generic.Classes.OpeningBraceSameLine" />
    <exclude name="Generic.Functions.OpeningFunctionBraceKernighanRitchie" />
    <exclude name="Generic.Files.EndFileNoNewline" />
    <exclude name="Generic.CodeAnalysis.EmptyStatement.DetectedCatch" />
    <exclude name="Generic.Commenting.DocComment" />
    <exclude name="Generic.Commenting.Todo" />
    <exclude name="Generic.Formatting.MultipleStatementAlignment" />
    <exclude name="Generic.Functions.FunctionCallArgumentSpacing.NoSpaceAfterComma" />
    <exclude name="Generic.WhiteSpace.DisallowSpaceIndent" />
    <exclude name="Generic.PHP.UpperCaseConstant" />
    <exclude name="Generic.Formatting.SpaceBeforeCast" />
    <exclude name="Generic.Arrays.DisallowShortArraySyntax" />
  </rule>

  <!-- MySource (16 sniffs) -->
  <rule ref="MySource">
    <exclude name="MySource.CSS.BrowserSpecificStyles" />
    <exclude name="MySource.Channels.DisallowSelfActions" />
    <exclude name="MySource.Channels.IncludeOwnSystem" />
    <exclude name="MySource.Channels.IncludeSystem" />
    <exclude name="MySource.Channels.UnusedSystem" />
    <exclude name="MySource.Commenting.FunctionComment" />
    <exclude name="MySource.Debug.DebugCode" />
    <exclude name="MySource.Debug.FirebugConsole" />
    <exclude name="MySource.Objects.AssignThis" />
    <exclude name="MySource.Objects.CreateWidgetTypeCallback" />
    <exclude name="MySource.Objects.DisallowNewWidget" />
    <exclude name="MySource.PHP.ReturnFunctionValue.NotAssigned" />
    <exclude name="MySource.Strings.JoinStrings" />
  </rule>

  <!-- PEAR (5 sniffs) -->
  <!-- <rule ref="PEAR.WhiteSpace.ObjectOperatorIndent" > -->
  <!--   <properties> -->
  <!--     <property name="multilevel" value="true" /> -->
  <!--   </properties> -->
  <!-- </rule> -->
  <rule ref="PEAR">
    <exclude name="PEAR.NamingConventions.ValidFunctionName" />
    <exclude name="Generic.Files.LineLength" />
    <exclude name="PEAR.Commenting.FileComment" />
    <exclude name="PEAR.Commenting.ClassComment" />
    <exclude name="PEAR.Commenting.FunctionComment" />
    <exclude name="PEAR.WhiteSpace.ObjectOperatorIndent" />
    <exclude name="PEAR.Functions.FunctionCallSignature.ContentAfterOpenBracket" />
    <exclude name="PEAR.Functions.FunctionCallSignature.CloseBracketLine" />
  </rule>

  <!-- PSR1 (3 sniffs) -->
  <rule ref="PSR1">
  </rule>
  <rule ref="PSR1.Methods.CamelCapsMethodName.NotCamelCaps">
    <exclude-pattern>spec/*</exclude-pattern>
  </rule>

  <!-- PSR12 (16 sniffs) -->
  <rule ref="PSR12">
  </rule>

  <!-- PSR2 (12 sniffs) -->
  <rule ref="PSR2">
  </rule>

  <!-- Squiz (98 sniffs) -->
  <rule ref="Squiz.WhiteSpace.ObjectOperatorSpacing">
    <properties>
      <property name="ignoreNewlines" value="true" />
    </properties>
  </rule>
  <rule ref="Squiz.WhiteSpace.OperatorSpacing">
    <properties>
      <property name="ignoreNewlines" value="true" />
    </properties>
  </rule>

  <rule ref="Squiz">
    <rule ref="Squiz.WhiteSpace.MemberVarSpacing">
      <properties>
        <property name="spacingBeforeFirst" value="0" />
      </properties>
    </rule>
    <!-- <exclude name="Squiz.PHP.CommentedOutCode" /> -->
    <exclude name="Squiz.Strings.DoubleQuoteUsage" />
    <exclude name="Squiz.Commenting.PostStatementComment.Found" />
    <exclude name="Squiz.Commenting.BlockComment" />
    <exclude name="Squiz.Commenting.ClassComment" />
    <exclude name="Squiz.Files.FileExtension" />
    <exclude name="Squiz.Commenting.FileComment" />
    <exclude name="Squiz.Operators.ComparisonOperatorUsage" />
    <exclude name="Squiz.PHP.DisallowInlineIf" />
    <exclude name="Squiz.PHP.DisallowComparisonAssignment" />
    <exclude name="Squiz.WhiteSpace.ObjectOperatorSpacing" />
    <exclude name="Squiz.ControlStructures.InlineIfDeclaration" />
    <exclude name="Squiz.Commenting.InlineComment" />
    <exclude name="Squiz.Arrays.ArrayDeclaration" />
    <exclude name="Squiz.Objects.ObjectInstantiation" />
    <exclude name="Squiz.Commenting.ClosingDeclarationComment" />
    <exclude name="Squiz.Commenting.FunctionComment" />
    <!-- this conflicts with Mike's multiline ternary style -->
    <exclude name="Squiz.WhiteSpace.FunctionClosingBraceSpace.SpacingBeforeClose" />
    <!-- this doesn't take into account ?? >:( -->
    <exclude name="Squiz.Formatting.OperatorBracket" />
  </rule>

  <!-- Zend (2 sniffs) -->
  <rule ref="Zend">
    <exclude name="Zend.NamingConventions.ValidVariableName" />
    <exclude name="Zend.Debug.CodeAnalyzer" />
  </rule>

  <!-- full rulesets -->
  <!-- <rule ref="Generic" /> -->
  <!-- <rule ref="PSR2" /> -->
  <!-- <rule ref="MySource" /> -->
  <!-- <rule ref="Squiz" /> -->
  <!-- <rule ref="PSR1" /> -->
  <!-- <rule ref="PSR12" /> -->

  <!-- properties of rules used in other rulesets -->
  <rule ref="Squiz.WhiteSpace.FunctionSpacing">
    <properties>
      <property name="spacing" value="1" />
      <property name="spacingBeforeFirst" value="0" />
      <property name="spacingAfterLast" value="0" />
    </properties>
  </rule>
</ruleset>
