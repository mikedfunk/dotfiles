# tmuxp window layout setup https://github.com/tmux-python/tmuxp
# vim: set foldmethod=marker:
session_name: Work
windows:

# config {{{
  - window_name: config
    start_directory: ~/.yadm
    layout: main-horizontal
    focus: true
    panes:
      - v -S
      # - yadm st
      - while true; do clear && yadm st; sleep 60; done
      # - wait-on http://www.local.saatchiart.com && docker-stats
      # - sourcegraph
      - while true; do wait-on http://www.local.saatchiart.com && dme && ctop; sleep 10; done
      - htop
# }}}

# legacy {{{
  - window_name: legacy
    start_directory: ~/Code/saatchi/legacy
    layout: main-horizontal
    panes:
      - v +GitSessionLoad
      - ts
      - while true; do wait-on http://www.local.saatchiart.com && saatchi-tinker-legacy-local; sleep 10; done
      - while true; do puw; sleep 10; done
      - wd legacy && cd ./assets/react && yarn && yarn write-rev && yarn start
      # - saatchi-eslint-watch-legacy
      # - saatchi-grunt-watch-legacy
      - while true; do wait-on http://www.local.saatchiart.com && saatchi-tail-legacy-local; sleep 10; done
# }}}

# easel {{{
  - window_name: easel
    start_directory: ~/Code/saatchi/easel
    layout: main-horizontal
    panes:
      - v +GitSessionLoad
      - ts
      - yarn jest --watchAll
      - while true; do wait-on http://www.local.saatchiart.com && saatchi-tail-easel-local; sleep 10; done
# }}}

# gallery {{{
  - window_name: gallery
    start_directory: ~/Code/saatchi/gallery
    layout: main-horizontal
    panes:
      - v +GitSessionLoad
      - ts
      - while true; do wait-on http://www.local.saatchiart.com && saatchi-tinker-gallery-local; sleep 10; done
      - while true; do puw; sleep 10; done
      - yarn jest --watch
      - saatchi-gulp-watch-gallery
        # - saatchi-start-gallery
      - while true; do wait-on http://www.local.saatchiart.com && saatchi-tail-gallery-local; sleep 10; done
# }}}

# palette {{{
  - window_name: palette
    start_directory: ~/Code/saatchi/palette
    layout: main-horizontal
    panes:
      - v +GitSessionLoad
      - ts
      - while true; do wait-on http://www.local.saatchiart.com && saatchi-tinker-palette-local; sleep 10; done
      - while true; do psw; sleep 10; done
      # - saatchi-phing-watch
      - while true; do wait-on http://www.local.saatchiart.com && saatchi-tail-palette-local; sleep 10; done
# }}}

# zed {{{
  - window_name: zed
    start_directory: ~/Code/saatchi/zed
    layout: main-horizontal
    panes:
      - v +GitSessionLoad
      - ts
      - while true; do wait-on http://www.local.saatchiart.com && saatchi-phpunit-watch-zed; sleep 10; done
      - saatchi-grunt-watch-zed
      - while true; do wait-on http://www.local.saatchiart.com && saatchi-tail-zed-local; sleep 10; done
# }}}

# catalog {{{
  - window_name: catalog
    start_directory: ~/Code/saatchi/catalog
    layout: main-horizontal
    panes:
      - v +GitSessionLoad
      - ts
      - while true; do wait-on http://www.local.saatchiart.com && saatchi-tinker-catalog-local; sleep 10; done
      - while true; do wait-on http://www.local.saatchiart.com && saatchi-tail-catalog-local; sleep 10; done
# }}}

# views {{{
  # - window_name: views
  #   start_directory: ~/Code/saatchi/couchbase-views
  #   layout: main-horizontal
  #   panes:
  #     - v -S
  #     - ts
# }}}

# xdocker {{{
  - window_name: xdocker
    start_directory: ~/Code/saatchi/xdocker
    layout: main-horizontal
    panes:
      - v -S
      - saatchi-docker-start
      - ts
# }}}

# xpuppet {{{
  - window_name: xpuppet
    start_directory: ~/Code/saatchi/gitlab-puppet
    layout: main-horizontal
    panes:
      - v -S
      - ts
# }}}

# mysql {{{
  - window_name: mysql
    start_directory: ~/Code/saatchi/queries
    layout: main-vertical
    panes:
      - v -S
      - wait-on http://www.local.saatchiart.com && saatchi-mycli-legacy-local
      - wait-on http://www.local.saatchiart.com && saatchi-mycli-palette-local
      - wait-on http://www.local.saatchiart.com && saatchi-mycli-zed-local
# }}}

# http {{{
  - panes:
      - v -S
    start_directory: ~/Code/saatchi/http
    window_name: http
# }}}

# notes {{{
  - window_name: notes
    start_directory: ~/.config/joplin
    panes:
      - notes
# }}}

# releases {{{
  - window_name: releases
    layout: even-vertical
    panes:
      - saatchi-releases-xdev --watch --clear
      - saatchi-releases-xqa --watch --clear
      - saatchi-releases-xprod --watch --clear
# }}}

# uml {{{
  - window_name: uml
    start_directory: ~/Code/uml
    layout: main-horizontal
    panes:
      - v -S
      - ts
      - . ./watch.sh
# }}}

# maropost php sdk {{{
  # - window_name: maropost
  #   start_directory: ~/Code/saatchi/maropost-php-sdk
  #   layout: main-horizontal
  #   panes:
  #     - v -S
  #     - ts
# }}}

# logs {{{
  - window_name: logs
    start_directory: ~/
    layout: tiled
    panes:
      - saatchi-tail-easel-xprod
      - saatchi-tail-gallery-xprod
      - saatchi-tail-palette-xprod
      - saatchi-tail-legacy-xprod
      - saatchi-tail-zed-xprod
      - mjm-tail-app-prod
      # - saatchi-tail-legacy-services-xprod
# }}}

# chromatic (iOS app) {{{
  # - window_name: chromatic
  #   start_directory: ~/Code/saatchi/chromatic
  #   layout: main-horizontal
  #   panes:
  #     - v -S
  #     - ts
# }}}
